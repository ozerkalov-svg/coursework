{"version":3,"file":"exercises_card-Crdpmkkp.js","sources":["../../src/js/localalStorageLogical.js","../../src/js/header.js","../../src/js/favourite_exercises.js","../../src/js/api.js","../../src/js/rate.js","../../src/js/exercises_card.js"],"sourcesContent":["export const LS_FAV = 'favourites_exercises';\r\n\r\nexport const getFav = () => {\r\n  try {\r\n    return JSON.parse(localStorage.getItem(LS_FAV)) || [];\r\n  } catch (err) {\r\n    console.error(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const setFav = arr => {\r\n  localStorage.setItem(LS_FAV, JSON.stringify(arr));\r\n};\r\n\r\nexport const addToFav = exercise => {\r\n  const favs = getFav();\r\n  if (favs.some(item => item._id === exercise._id)) return;\r\n  favs.push(exercise);\r\n  setFav(favs);\r\n};\r\n\r\nexport const removeFromFav = id => {\r\n  const updatedFavs = getFav().filter(item => item._id !== id);\r\n  setFav(updatedFavs);\r\n};\r\n\r\n\r\nconst QUOTE_KEY = 'todays_quote';\r\nconst QUOTE_TIME_KEY = 'quote_time';\r\nconst ONE_DAY_MS = 24 * 60 * 60 * 1000;\r\n\r\nlet cachedQuote = null;\r\nlet quotePromise = null;\r\n\r\nasync function getQuote() {\r\n  if (cachedQuote) return cachedQuote;\r\n  if (quotePromise) return quotePromise;\r\n\r\n  const storedQuote = localStorage.getItem(QUOTE_KEY);\r\n  const storedTime = localStorage.getItem(QUOTE_TIME_KEY);\r\n\r\n  if (\r\n    storedQuote &&\r\n    storedTime &&\r\n    Date.now() - Number(storedTime) < ONE_DAY_MS\r\n  ) {\r\n    cachedQuote = JSON.parse(storedQuote);\r\n    return cachedQuote;\r\n  }\r\n\r\n  quotePromise = fetch('https://your-energy.b.goit.study/api/quote')\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      cachedQuote = data;\r\n      localStorage.setItem(QUOTE_KEY, JSON.stringify(data));\r\n      localStorage.setItem(QUOTE_TIME_KEY, Date.now().toString());\r\n      return data;\r\n    })\r\n    .catch(err => {\r\n      console.error('Error fetching quote:', err);\r\n      if (storedQuote) {\r\n        cachedQuote = JSON.parse(storedQuote);\r\n        return cachedQuote;\r\n      }\r\n      return { quote: 'No quote available', author: '' };\r\n    })\r\n    .finally(() => {\r\n      quotePromise = null;\r\n    });\r\n\r\n  return quotePromise;\r\n}\r\n\r\nconst renderQuoteHTML = (quote, author) => `\r\n  <svg width=\"32\" height=\"32\" class=\"quote-text-icon\">\r\n    <use href=\"/home-task/icons.svg#icon-run\"></use>\r\n  </svg>\r\n  <div>\r\n    <h3 class=\"main-quote-title\">Quote of the day</h3>\r\n    <p class=\"main-quote-text\">${quote}</p>\r\n    <p class=\"main-quote-author\">${author}</p>\r\n    <svg width=\"24\" height=\"24\" class=\"quote-text-icon-commas\">\r\n      <use href=\"/home-task/icons.svg#icon-commas\"></use>\r\n    </svg>\r\n  </div>\r\n`;\r\n\r\nexport const displayQuote = async quoteContainer => {\r\n  const { quote, author } = await getQuote();\r\n  quoteContainer.innerHTML = renderQuoteHTML(quote, author);\r\n};\r\n","const navLinkFav = document.querySelector('.header-nav-link-favorites');\r\nconst navLinkHome = document.querySelector('.header-nav-link-main');\r\n\r\nconst page = window.PAGE;\r\n\r\nif (page === 'favorites') {\r\n  navLinkFav.classList.add('active');\r\n}\r\nif (page === 'main') {\r\n  navLinkHome.classList.add('active');\r\n}\r\n\r\n\r\nconst openMenuButton = document.querySelector('.open-mobile-menu-btn');\r\nconst closeMenuButton = document.querySelector('.close-mobile-menu-btn');\r\nconst mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');\r\nconst mobileMenu = document.querySelector('.mobile-menu');\r\n\r\nopenMenuButton.addEventListener('click', () => {\r\n  mobileMenuWrapper.classList.add('is-open');\r\n  document.body.classList.add('not-scrollable');\r\n});\r\n\r\ncloseMenuButton.addEventListener('click', () => {\r\n  closeMenu();\r\n});\r\n\r\nmobileMenuWrapper.addEventListener('click', () => {\r\n  closeMenu();\r\n});\r\n\r\nmobileMenu.addEventListener('click', e => {\r\n  e.stopPropagation();\r\n});\r\n\r\nfunction closeMenu() {\r\n  mobileMenuWrapper.classList.remove('is-open');\r\n  document.body.classList.remove('not-scrollable');\r\n}\r\n\r\n","import handlerStartBtn from './exercises_card.js';\r\nimport * as localalStorageLogical from './localalStorageLogical';\r\nimport * as header from './header';\r\n\r\nimport {\r\n  getFav,\r\n  removeFromFav,\r\n  LS_FAV,\r\n  displayQuote,\r\n} from './localalStorageLogical.js';\r\n\r\n\r\nconst refs = {\r\n  cardSet: document.querySelector('.fav_card_list'),\r\n  noCards: document.querySelector('.no_cards_wrapper'),\r\n  quoteContainer: document.querySelector('.quote'),\r\n  noCardsContainer: document.querySelector('.no_cards_wrapper-container'),\r\n  paginationCards: document.querySelector('.pagination-cards'),\r\n};\r\n\r\nlet page = 1;\r\nconst CARDS_PER_PAGE = 8;\r\n\r\n\r\nconst getCardsByPage = (arr, page) => {\r\n  const start = (page - 1) * CARDS_PER_PAGE;\r\n  const end = start + CARDS_PER_PAGE;\r\n  return arr.slice(start, end);\r\n};\r\n\r\nconst uniqueIdFilter = (arr = []) => {\r\n  const uniqueIds = new Set();\r\n  return arr.filter(obj => {\r\n    if (!obj?._id) return false;\r\n    if (uniqueIds.has(obj._id)) return false;\r\n    uniqueIds.add(obj._id);\r\n    return true;\r\n  });\r\n};\r\n\r\n\r\nconst renderCards = arr => {\r\n  const markup = arr\r\n    .map(({ name, _id, burnedCalories, bodyPart, target, time = 3 }) => {\r\n      let calories = `${burnedCalories} / ${time} min`;\r\n\r\n      return `\r\n        <li class=\"exercise-information\" data-id-card=\"${_id}\" data-component=\"fav_card\">\r\n          <div class=\"top-nav\">\r\n            <div>\r\n              <p class=\"tag\">Workout</p>\r\n              <button\r\n                name=\"trash\"\r\n                data-id-del-btn=\"${_id}\"\r\n                data-action=\"delete_fav_card\"\r\n                class=\"trash-btn\">\r\n                <svg class=\"trash-icon\" width=\"16\" height=\"16\">\r\n                  <use href=\"/coursework/symbol-defs.svg#icon-trash\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"actions\">\r\n              <button\r\n                name=\"start\"\r\n                data-id-start-btn=\"${_id}\"\r\n                data-action=\"start_exercise_btn\"\r\n                class=\"details-link\">\r\n                Start\r\n                <svg class=\"arrow-icon\" width=\"16\" height=\"16\">\r\n                  <use href=\"/coursework/symbol-defs.svg#icon-arrow\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"exercise-header\">\r\n            <svg class=\"icon-man\" width=\"24\" height=\"24\">\r\n              <use href=\"/coursework/symbol-defs.svg#icon-run\"></use>\r\n            </svg>\r\n            <h2 class=\"exercise-name\">${name}</h2>\r\n          </div>\r\n\r\n          <ul class=\"exercise-details\">\r\n            <li><span>Burned calories:</span> ${calories}</li>\r\n            <li><span>Body part:</span> ${bodyPart}</li>\r\n            <li><span>Target:</span> ${target}</li>\r\n          </ul>\r\n        </li>\r\n      `;\r\n    })\r\n    .join('');\r\n\r\n  refs.cardSet.innerHTML = markup;\r\n};\r\n\r\n\r\nconst onClick = e => {\r\n  const startBtn = e.target.closest('[data-action=\"start_exercise_btn\"]');\r\n  const deleteBtn = e.target.closest('[data-action=\"delete_fav_card\"]');\r\n\r\n  if (!startBtn && !deleteBtn) return;\r\n\r\n  if (deleteBtn) {\r\n    removeFromFav(deleteBtn.dataset.idDelBtn);\r\n    checkStorage();\r\n    return;\r\n  }\r\n\r\n  if (startBtn) {\r\n    const favs = getFav(LS_FAV) || [];\r\n    const exercise = favs.find(el => el._id === startBtn.dataset.idStartBtn);\r\n\r\n    if (exercise) {\r\n      handlerStartBtn(exercise, true, true);\r\n    }\r\n  }\r\n};\r\n\r\nif (refs.cardSet) {\r\n  refs.cardSet.addEventListener('click', onClick);\r\n}\r\n\r\n\r\nfunction renderPaginationCards(totalPages) {\r\n  if (!refs.paginationCards) return;\r\n\r\n  if (totalPages <= 1) {\r\n    refs.paginationCards.innerHTML = '';\r\n    return;\r\n  }\r\n\r\n  refs.paginationCards.innerHTML = Array.from(\r\n    { length: totalPages },\r\n    (_, i) => `\r\n      <li>\r\n        <button\r\n          name=\"pagination\"\r\n          class=\"pagination-btn ${page === i + 1 ? 'active' : ''}\"\r\n          data-page=\"${i + 1}\">\r\n          ${i + 1}\r\n        </button>\r\n      </li>\r\n    `\r\n  ).join('');\r\n}\r\n\r\nif (refs.paginationCards) {\r\n  refs.paginationCards.addEventListener('click', e => {\r\n    const btn = e.target.closest('.pagination-btn');\r\n    if (!btn) return;\r\n\r\n    page = Number(btn.dataset.page);\r\n    checkStorage();\r\n  });\r\n}\r\n\r\n\r\nexport const checkStorage = () => {\r\n  if (!document.querySelector('.favourite_exercises')) return;\r\n\r\n  const favsRaw = getFav(LS_FAV) || [];\r\n  const favs = uniqueIdFilter(favsRaw);\r\n\r\n  if (!favs.length) {\r\n    refs.noCards.classList.remove('visually-hidden');\r\n    refs.noCardsContainer.classList.remove('visually-hidden');\r\n    refs.cardSet.classList.add('visually-hidden');\r\n    refs.paginationCards.innerHTML = '';\r\n    return;\r\n  }\r\n\r\n  refs.noCards.classList.add('visually-hidden');\r\n  refs.noCardsContainer.classList.add('visually-hidden');\r\n  refs.cardSet.classList.remove('visually-hidden');\r\n\r\n  if (window.innerWidth < 1440) {\r\n    const totalPages = Math.ceil(favs.length / CARDS_PER_PAGE);\r\n    if (page > totalPages) page = totalPages;\r\n\r\n    renderCards(getCardsByPage(favs, page));\r\n    renderPaginationCards(totalPages);\r\n  } else {\r\n    renderCards(favs);\r\n    refs.paginationCards.innerHTML = '';\r\n  }\r\n};\r\n\r\n\r\nwindow.addEventListener('resize', () => {\r\n  page = 1;\r\n  checkStorage();\r\n});\r\n\r\ncheckStorage();\r\ndisplayQuote(refs.quoteContainer);\r\n","let page = 1;\r\nlet limit = window.innerWidth < 768 ? 9 : 12;\r\nlet limitx = window.innerWidth < 768 ? 8 : 10;\r\n\r\nlet currentFilter = 'Muscles';\r\nlet searchQuery = ''; \r\nlet keyWord = ''; \r\nlet filter = '';\r\nlet name = '';\r\n\r\nlet localResponse = [];\r\n\r\nexport {\r\n  page,\r\n  limit,\r\n  limitx,\r\n  currentFilter,\r\n  searchQuery,\r\n  keyWord,\r\n  filter,\r\n  name,\r\n  localResponse,\r\n};\r\n\r\nexport function setCurrentFilter(value) {\r\n  currentFilter = value;\r\n}\r\n\r\nexport function setPage(value) {\r\n  page = value;\r\n}\r\n\r\nexport function setFilter(value) {\r\n  filter = value;\r\n}\r\n\r\nexport function setName(value) {\r\n  name = value;\r\n}\r\n\r\nexport function setKeyword(value) {\r\n  keyWord = value;\r\n}\r\n\r\nexport function setSearchQuery(value) {\r\n  searchQuery = value;\r\n}\r\n\r\nexport async function fetchFilterss(reset = true) {\r\n  if (reset) page = 1;\r\n\r\n  let url = `https://your-energy.b.goit.study/api/filters?filter=${currentFilter}&page=${page}&limit=${limit}`;\r\n\r\n  if (searchQuery.trim()) {\r\n    url += `&name=${searchQuery}`;\r\n  }\r\n\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Failed to fetch filters');\r\n  return await res.json();\r\n}\r\n\r\nexport async function fetchExercisesAPI(reset = true) {\r\n  if (reset) localResponse.length = 0;\r\n\r\n  let preparedFilter = filter.toLowerCase();\r\n  if (preparedFilter === 'body parts') preparedFilter = 'bodypart';\r\n\r\n  const url = `\r\n    https://your-energy.b.goit.study/api/exercises?\r\n    ${preparedFilter}=${name}\r\n    &keyword=${keyWord}\r\n    &page=${page}\r\n    &limit=${limitx}\r\n  `.replace(/\\s+/g, '');\r\n\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Failed to fetch exercises');\r\n  return await res.json();\r\n}\r\n\r\nexport async function postSubscriptions(email) {\r\n  const response = await fetch(\r\n    'https://your-energy.b.goit.study/api/subscription',\r\n    {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email }),\r\n    }\r\n  );\r\n\r\n  if (response.status === 409) throw new Error('EMAIL_EXISTS');\r\n  if (!response.ok) throw new Error('REQUEST_FAILED');\r\n\r\n  return await response.json();\r\n}\r\n\r\nexport async function addExerciseRatingById(id, { email, rate, comment }) {\r\n  rate = Number(rate);\r\n\r\n  const response = await fetch(\r\n    `https://your-energy.b.goit.study/api/exercises/${id}/rating`,\r\n    {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, rate, review: comment }),\r\n    }\r\n  );\r\n\r\n  if (!response.ok) {\r\n    const errorData = await response.json();\r\n    throw new Error(errorData.message || 'Rating failed');\r\n  }\r\n\r\n  return response.json();\r\n}\r\n","import { Notify } from 'notiflix';\r\nimport handlerStartBtn from './exercises_card.js';\r\nimport { addExerciseRatingById } from './api.js';\r\n\r\nconst formCloseBtn = document.getElementById('form-close-btn');\r\nconst backdrop = document.querySelector('.backdrop');\r\nconst userEmail = document.querySelector('#user-email');\r\nconst userComment = document.getElementById('user-comment');\r\nconst formSendBtn = document.querySelector('.form-send-btn');\r\nconst ratingWrapper = document.querySelector('.rating-wrapper');\r\nconst ratingStarValue = document.querySelector('.rating-star-value');\r\nconst backdropForm = document.querySelector('.backdrop-form');\r\n\r\nlet exerciseId = null;\r\nlet previousExercise = null;\r\n\r\nconst userFeedback = {\r\n  rate: 0,\r\n  email: '',\r\n  comment: '',\r\n};\r\n\r\nfunction resetForm() {\r\n  userEmail.value = '';\r\n  userComment.value = '';\r\n  userFeedback.rate = 0;\r\n  userFeedback.comment = '';\r\n  userFeedback.email = '';\r\n  ratingStarValue.textContent = '0.0';\r\n  const ratingStarIcons = document.querySelectorAll('.rating-star-icons');\r\n  ratingStarIcons.forEach(icon => {\r\n    icon.style.fill = 'var(--white-20)';\r\n  });\r\n}\r\n\r\nfunction handleEscClose(event) {\r\n  if (event.key === 'Escape') closeRateModal(true);\r\n}\r\n\r\nfunction closeRateModal(returnCard = false) {\r\n  backdrop.classList.remove('is-open');\r\n  document.removeEventListener('keydown', handleEscClose);\r\n  if (returnCard && previousExercise) handlerStartBtn(previousExercise);\r\n}\r\n\r\nformCloseBtn.addEventListener('click', () => closeRateModal(true));\r\nbackdrop.addEventListener('click', event => {\r\n  if (event.target === backdrop) closeRateModal(true);\r\n});\r\n\r\nratingWrapper.addEventListener('click', event => {\r\n  if (!event.target.dataset.id) return;\r\n  userFeedback.rate = Number(event.target.dataset.id);\r\n  ratingStarValue.textContent = `${userFeedback.rate}.0`;\r\n\r\n  const ratingStarIcons = document.querySelectorAll('.rating-star-icons');\r\n  for (let i = 0; i < 5; i++) {\r\n    ratingStarIcons[i].style.fill =\r\n      i < userFeedback.rate ? 'var(--orange-color)' : 'var(--white-20)';\r\n  }\r\n});\r\n\r\nexport function handlerOpenRate(id, exercise = null) {\r\n  exerciseId = id;\r\n  previousExercise = exercise;\r\n  backdrop.classList.add('is-open');\r\n  document.addEventListener('keydown', handleEscClose);\r\n}\r\n\r\nbackdropForm.addEventListener('submit', async event => {\r\n  event.preventDefault();\r\n  userFeedback.email = userEmail.value.trim();\r\n  userFeedback.comment = userComment.value.trim() || undefined;\r\n\r\n  if (!userFeedback.rate) {\r\n    Notify.failure('Please select a rating');\r\n    return;\r\n  }\r\n\r\n  if (!userFeedback.email) {\r\n    Notify.failure('Please enter your email');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await addExerciseRatingById(exerciseId, userFeedback);\r\n    Notify.success('Your rating has been saved!');\r\n    resetForm();\r\n    closeRateModal();\r\n  } catch (error) {\r\n    Notify.failure(error.message || 'Something went wrong');\r\n  }\r\n});\r\n","import { getFav, addToFav, removeFromFav } from './localalStorageLogical';\r\nimport { checkStorage } from './favourite_exercises';\r\nimport { handlerOpenRate } from './rate';\r\n\r\nconst cardBackdrop = document.querySelector('.exr-card-backdrop');\r\n\r\nlet currentExercise = null;\r\nlet isFavourite = false;\r\n\r\nfunction capitalizeFirstLetter(string) {\r\n  return `${string.charAt(0).toUpperCase()}${string.slice(1)}`;\r\n}\r\n\r\nexport default function handlerStartBtn(\r\n  exercise,\r\n  isFav = false,\r\n  isFavouritePage = false\r\n) {\r\n  currentExercise = exercise;\r\n\r\n  const favs = getFav();\r\n  isFavourite = favs.some(item => item._id === exercise._id);\r\n\r\n  renderModal(exercise);\r\n\r\n  cardBackdrop.classList.add('card-is-open');\r\n  document.body.classList.add('not-scrollable');\r\n\r\n  document.addEventListener('keydown', handleEscClose);\r\n}\r\n\r\nfunction renderModal(data) {\r\n  let rating = data.rating;\r\n  if (rating % 1 === 0) rating += '.0';\r\n  rating = parseFloat(rating).toFixed(1);\r\n\r\n  const markup = `\r\n    <div class=\"exr-card-cont\">\r\n      <button name=\"close\" id=\"close-card\" type=\"button\" class=\"close-card-button\">\r\n        <svg class=\"close-card-icon\">\r\n          <use href=\"/coursework/symbol-defs.svg#icon-x\"></use>\r\n        </svg>\r\n      </button>\r\n\r\n      <img src=\"${data.gifUrl}\" alt=\"exercise\" class=\"exr-image\" />\r\n\r\n      <div>\r\n        <h3 class=\"exercise-name\">${capitalizeFirstLetter(data.name)}</h3>\r\n\r\n        <div class=\"rating-container\">\r\n          <ul class=\"star-rating-list\">\r\n            <li><p class=\"rating-score\">${rating}</p></li>\r\n            ${Array(5)\r\n              .fill('')\r\n              .map(\r\n                () => `\r\n              <li>\r\n                <svg class=\"star-rating-icon\" width=\"14\" height=\"14\">\r\n                  <use href=\"/coursework/symbol-defs.svg#icon-star\"></use>\r\n                </svg>\r\n              </li>`\r\n              )\r\n              .join('')}\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"exr-information-container\">\r\n          <div class=\"exr-info-block\">\r\n            <p class=\"info-label\">Target</p>\r\n            <p class=\"exr-info\">${capitalizeFirstLetter(data.target)}</p>\r\n          </div>\r\n          <div class=\"exr-info-block\">\r\n            <p class=\"info-label\">Body Part</p>\r\n            <p class=\"exr-info\">${capitalizeFirstLetter(data.bodyPart)}</p>\r\n          </div>\r\n          <div class=\"exr-info-block\">\r\n            <p class=\"info-label\">Equipment</p>\r\n            <p class=\"exr-info\">${capitalizeFirstLetter(data.equipment)}</p>\r\n          </div>\r\n          <div class=\"exr-info-block\">\r\n            <p class=\"info-label\">Popular</p>\r\n            <p class=\"exr-info\">${data.popularity}</p>\r\n          </div>\r\n          <div class=\"exr-info-block\">\r\n            <p class=\"info-label\">Burned Calories</p>\r\n            <p class=\"exr-info\">${data.burnedCalories}/${data.time} min</p>\r\n          </div>\r\n        </div>\r\n\r\n        <p class=\"exr-description\">${data.description}</p>\r\n\r\n        <div class=\"buttons-cont\">\r\n          <button class=\"add-favourite-btn\">\r\n            ${isFavourite ? 'Remove from favourites' : 'Add to favourites'}\r\n            <svg class=\"heart-icon\" width=\"20\" height=\"20\">\r\n              <use href=\"/coursework/symbol-defs.svg#icon-heart\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"give-rating-btn\">Give a rating</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  cardBackdrop.innerHTML = markup;\r\n\r\n  const stars = document.querySelectorAll('.star-rating-icon');\r\n  for (let i = 0; i < Math.round(data.rating); i++) {\r\n    stars[i].style.fill = '#eea10c';\r\n  }\r\n\r\n  const addFavBtn = document.querySelector('.add-favourite-btn');\r\n\r\n  addFavBtn.addEventListener('click', () => {\r\n    if (!isFavourite) {\r\n      addToFav(data);\r\n      isFavourite = true;\r\n      addFavBtn.innerHTML = `Remove from favourites\r\n        <svg class=\"heart-icon\" width=\"20\" height=\"20\">\r\n          <use href=\"/coursework/symbol-defs.svg#icon-heart\"></use>\r\n        </svg>`;\r\n    } else {\r\n      removeFromFav(data._id);\r\n      isFavourite = false;\r\n      addFavBtn.innerHTML = `Add to favourites\r\n        <svg class=\"heart-icon\" width=\"20\" height=\"20\">\r\n          <use href=\"/coursework/symbol-defs.svg#icon-heart\"></use>\r\n        </svg>`;\r\n    }\r\n\r\n    checkStorage();\r\n  });\r\n\r\n  document.getElementById('close-card').addEventListener('click', closeModal);\r\n\r\n  cardBackdrop.addEventListener('click', e => {\r\n    if (e.target === cardBackdrop) closeModal();\r\n  });\r\n\r\n  document.querySelector('.give-rating-btn').addEventListener('click', () => {\r\n    closeModal();\r\n    handlerOpenRate(data._id, currentExercise);\r\n  });\r\n}\r\n\r\nfunction handleEscClose(event) {\r\n  if (event.key === 'Escape') closeModal();\r\n}\r\n\r\nfunction closeModal() {\r\n  cardBackdrop.classList.remove('card-is-open');\r\n  document.body.classList.remove('not-scrollable');\r\n  document.removeEventListener('keydown', handleEscClose);\r\n}\r\n"],"names":["LS_FAV","getFav","err","setFav","arr","addToFav","exercise","favs","item","removeFromFav","id","updatedFavs","QUOTE_KEY","QUOTE_TIME_KEY","ONE_DAY_MS","cachedQuote","quotePromise","getQuote","storedQuote","storedTime","res","data","renderQuoteHTML","quote","author","displayQuote","quoteContainer","navLinkFav","navLinkHome","page","openMenuButton","closeMenuButton","mobileMenuWrapper","mobileMenu","closeMenu","refs","CARDS_PER_PAGE","getCardsByPage","start","end","uniqueIdFilter","uniqueIds","obj","renderCards","markup","name","_id","burnedCalories","bodyPart","target","time","calories","onClick","startBtn","deleteBtn","checkStorage","el","handlerStartBtn","renderPaginationCards","totalPages","_","i","btn","favsRaw","limit","limitx","currentFilter","searchQuery","keyWord","filter","localResponse","setCurrentFilter","value","setPage","setFilter","setName","setKeyword","fetchFilterss","reset","url","fetchExercisesAPI","preparedFilter","postSubscriptions","email","response","addExerciseRatingById","rate","comment","errorData","formCloseBtn","backdrop","userEmail","userComment","ratingWrapper","ratingStarValue","backdropForm","exerciseId","previousExercise","userFeedback","resetForm","icon","handleEscClose","event","closeRateModal","returnCard","ratingStarIcons","handlerOpenRate","Notify","error","cardBackdrop","currentExercise","isFavourite","capitalizeFirstLetter","string","isFav","isFavouritePage","renderModal","rating","stars","addFavBtn","closeModal","e"],"mappings":"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"}